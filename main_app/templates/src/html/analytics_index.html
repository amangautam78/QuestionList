{% extends 'src/html/base.html' %} {% load static %} {% block content %}

<div class="container-fluid">
    <section class="content">
        <!-- Begin page -->
        <div class="wrapper">
            <div class="content-page">
                <div class="content">
                    <div class="container-fluid">
                        {% if user_type == 'STUDENT' %}

                        <div class="row">
                            <div class="col-xl-5 col-lg-6">
                                <div class="row">
                                    <div class="col-lg-6">
                                        <div class="card widget-flat">
                                            <div class="card-body">
                                                <div class="float-end">
                                                    <i class="mdi mdi-account-multiple widget-icon"></i>
                                                </div>
                                                <h5 class="text-muted fw-normal mt-0" title="Number of Customers">
                                                    Total Questions
                                                </h5>
                                                <h3 class="mt-3 mb-3">
                                                    {{insight_data.total_questions}}
                                                </h3>
                                                <p class="mb-0 text-muted">
                                                    <span class="text-success me-2"><i
                                                            class="mdi mdi-arrow-up-bold"></i> 5.27%</span>
                                                    <span class="text-nowrap">Since last month</span>
                                                </p>
                                            </div>
                                            <!-- end card-body-->
                                        </div>
                                        <!-- end card-->
                                    </div>
                                    <!-- end col-->

                                    <div class="col-lg-6">
                                        <div class="card widget-flat">
                                            <div class="card-body">
                                                <div class="float-end">
                                                    <i class="mdi mdi-cart-plus widget-icon"></i>
                                                </div>
                                                <h5 class="text-muted fw-normal mt-0" title="Number of Orders">
                                                    Attempted
                                                </h5>
                                                <h3 class="mt-3 mb-3">{{insight_data.attempted}}</h3>
                                                <p class="mb-0 text-muted">
                                                    <span class="text-danger me-2"><i
                                                            class="mdi mdi-arrow-down-bold"></i> 1.08%</span>
                                                    <span class="text-nowrap">Since last month</span>
                                                </p>
                                            </div>
                                            <!-- end card-body-->
                                        </div>
                                        <!-- end card-->
                                    </div>
                                    <!-- end col-->
                                </div>
                                <!-- end row -->

                                <div class="row">
                                    <div class="col-lg-6">
                                        <div class="card widget-flat">
                                            <div class="card-body">
                                                <div class="float-end">
                                                    <i class="mdi mdi-currency-usd widget-icon"></i>
                                                </div>
                                                <h5 class="text-muted fw-normal mt-0" title="Average Revenue">
                                                    Not Attempted
                                                </h5>
                                                <h3 class="mt-3 mb-3">
                                                    {{insight_data.not_attempted}}
                                                </h3>
                                                <p class="mb-0 text-muted">
                                                    <span class="text-danger me-2"><i
                                                            class="mdi mdi-arrow-down-bold"></i> 7.00%</span>
                                                    <span class="text-nowrap">Since last month</span>
                                                </p>
                                            </div>
                                            <!-- end card-body-->
                                        </div>
                                        <!-- end card-->
                                    </div>
                                    <!-- end col-->

                                    <div class="col-lg-6">
                                        <div class="card widget-flat">
                                            <div class="card-body">
                                                <div class="float-end">
                                                    <i class="mdi mdi-pulse widget-icon"></i>
                                                </div>
                                                <h5 class="text-muted fw-normal mt-0" title="Growth">
                                                    Correct
                                                </h5>
                                                <h3 class="mt-3 mb-3">{{insight_data.correct}}</h3>
                                                <p class="mb-0 text-muted">
                                                    <span class="text-success me-2"><i
                                                            class="mdi mdi-arrow-up-bold"></i> 4.87%</span>
                                                    <span class="text-nowrap">Since last month</span>
                                                </p>
                                            </div>
                                            <!-- end card-body-->
                                        </div>
                                        <!-- end card-->
                                    </div>
                                    <!-- end col-->
                                </div>
                                <!-- end row -->

                                <div class="row">
                                    <div class="col-lg-6">
                                        <div class="card widget-flat">
                                            <div class="card-body">
                                                <div class="float-end">
                                                    <i class="mdi mdi-currency-usd widget-icon"></i>
                                                </div>
                                                <h5 class="text-muted fw-normal mt-0" title="Average Revenue">
                                                    Wrong
                                                </h5>
                                                <h3 class="mt-3 mb-3">{{insight_data.wrong}}</h3>
                                                <p class="mb-0 text-muted">
                                                    <span class="text-danger me-2"><i
                                                            class="mdi mdi-arrow-down-bold"></i> 7.00%</span>
                                                    <span class="text-nowrap">Since last month</span>
                                                </p>
                                            </div>
                                            <!-- end card-body-->
                                        </div>
                                        <!-- end card-->
                                    </div>
                                    <!-- end col-->

                                    <div class="col-lg-6">
                                        <div class="card widget-flat">
                                            <div class="card-body">
                                                <div class="float-end">
                                                    <i class="mdi mdi-pulse widget-icon"></i>
                                                </div>
                                                <h5 class="text-muted fw-normal mt-0" title="Growth">
                                                    Total Exams
                                                </h5>
                                                <h3 class="mt-3 mb-3">{{insight_data.total_exams}}</h3>
                                                <p class="mb-0 text-muted">
                                                    <span class="text-success me-2"><i
                                                            class="mdi mdi-arrow-up-bold"></i> 4.87%</span>
                                                    <span class="text-nowrap">Since last month</span>
                                                </p>
                                            </div>
                                            <!-- end card-body-->
                                        </div>
                                        <!-- end card-->
                                    </div>
                                    <!-- end col-->
                                </div>
                                <!-- end row -->
                            </div>
                            <!-- end col -->

                            <div class="col-xl-7 col-lg-6">
                                <div class="card card-h-100">
                                    <div class="card-body">
                                        <h4 class="header-title mb-3">Exams Progress</h4>

                                        <div dir="ltr">
                                            <div id="high-performing-product" class="apex-charts"
                                                data-colors="#727cf5,#e3eaef"></div>
                                        </div>
                                    </div>
                                    <!-- end card-body-->
                                </div>
                                <!-- end card-->
                            </div>
                            <!-- end col -->
                        </div>
                        <!-- end row -->
                        {% elif user_type == 'TEACHER' %}
                        <div class="row">
                            <div class="col-xl-5 col-lg-6">
                                <div class="row">
                                    <div class="col-lg-6">
                                        <div class="card widget-flat">
                                            <div class="card-body">
                                                <div class="float-end">
                                                    <i class="mdi mdi-account-multiple widget-icon"></i>
                                                </div>
                                                <h5 class="text-muted fw-normal mt-0" title="Number of Customers">
                                                    Total Classes
                                                </h5>
                                                <h3 class="mt-3 mb-3">
                                                    {{insight_data.total_questions}}
                                                </h3>
                                                <p class="mb-0 text-muted">
                                                    <span class="text-success me-2"><i
                                                            class="mdi mdi-arrow-up-bold"></i> 5.27%</span>
                                                    <span class="text-nowrap">Since last month</span>
                                                </p>
                                            </div>
                                            <!-- end card-body-->
                                        </div>
                                        <!-- end card-->
                                    </div>
                                    <!-- end col-->

                                    <div class="col-lg-6">
                                        <div class="card widget-flat">
                                            <div class="card-body">
                                                <div class="float-end">
                                                    <i class="mdi mdi-cart-plus widget-icon"></i>
                                                </div>
                                                <h5 class="text-muted fw-normal mt-0" title="Number of Orders">
                                                    Total Students
                                                </h5>
                                                <h3 class="mt-3 mb-3">{{insight_data.attempted}}</h3>
                                                <p class="mb-0 text-muted">
                                                    <span class="text-danger me-2"><i
                                                            class="mdi mdi-arrow-down-bold"></i> 1.08%</span>
                                                    <span class="text-nowrap">Since last month</span>
                                                </p>
                                            </div>
                                            <!-- end card-body-->
                                        </div>
                                        <!-- end card-->
                                    </div>
                                    <!-- end col-->
                                </div>
                                <!-- end row -->

                                <div class="row">
                                    <div class="col-lg-6">
                                        <div class="card widget-flat">
                                            <div class="card-body">
                                                <div class="float-end">
                                                    <i class="mdi mdi-currency-usd widget-icon"></i>
                                                </div>
                                                <h5 class="text-muted fw-normal mt-0" title="Average Revenue">
                                                    Average Exam Scores
                                                </h5>
                                                <h3 class="mt-3 mb-3">
                                                    {{insight_data.not_attempted}}
                                                </h3>
                                                <p class="mb-0 text-muted">
                                                    <span class="text-danger me-2"><i
                                                            class="mdi mdi-arrow-down-bold"></i> 7.00%</span>
                                                    <span class="text-nowrap">Since last month</span>
                                                </p>
                                            </div>
                                            <!-- end card-body-->
                                        </div>
                                        <!-- end card-->
                                    </div>
                                    <!-- end col-->

                                    <div class="col-lg-6">
                                        <div class="card widget-flat">
                                            <div class="card-body">
                                                <div class="float-end">
                                                    <i class="mdi mdi-pulse widget-icon"></i>
                                                </div>
                                                <h5 class="text-muted fw-normal mt-0" title="Growth">
                                                    Total Assignments
                                                </h5>
                                                <h3 class="mt-3 mb-3">{{insight_data.correct}}</h3>
                                                <p class="mb-0 text-muted">
                                                    <span class="text-success me-2"><i
                                                            class="mdi mdi-arrow-up-bold"></i> 4.87%</span>
                                                    <span class="text-nowrap">Since last month</span>
                                                </p>
                                            </div>
                                            <!-- end card-body-->
                                        </div>
                                        <!-- end card-->
                                    </div>
                                    <!-- end col-->
                                </div>
                                <!-- end row -->

                                <div class="row">
                                    <div class="col-lg-6">
                                        <div class="card widget-flat">
                                            <div class="card-body">
                                                <div class="float-end">
                                                    <i class="mdi mdi-currency-usd widget-icon"></i>
                                                </div>
                                                <h5 class="text-muted fw-normal mt-0" title="Average Revenue">
                                                    Student Engagement
                                                </h5>
                                                <h3 class="mt-3 mb-3">{{insight_data.wrong}}</h3>
                                                <p class="mb-0 text-muted">
                                                    <span class="text-danger me-2"><i
                                                            class="mdi mdi-arrow-down-bold"></i> 7.00%</span>
                                                    <span class="text-nowrap">Since last month</span>
                                                </p>
                                            </div>
                                            <!-- end card-body-->
                                        </div>
                                        <!-- end card-->
                                    </div>
                                    <!-- end col-->

                                    <div class="col-lg-6">
                                        <div class="card widget-flat">
                                            <div class="card-body">
                                                <div class="float-end">
                                                    <i class="mdi mdi-pulse widget-icon"></i>
                                                </div>
                                                <h5 class="text-muted fw-normal mt-0" title="Growth">
                                                    Top Performing Tests
                                                </h5>
                                                <h3 class="mt-3 mb-3">{{insight_data.total_exams}}</h3>
                                                <p class="mb-0 text-muted">
                                                    <span class="text-success me-2"><i
                                                            class="mdi mdi-arrow-up-bold"></i> 4.87%</span>
                                                    <span class="text-nowrap">Since last month</span>
                                                </p>
                                            </div>
                                            <!-- end card-body-->
                                        </div>
                                        <!-- end card-->
                                    </div>
                                    <!-- end col-->
                                </div>
                                <!-- end row -->
                            </div>
                            <!-- end col -->

                            <div class="col-xl-7 col-lg-6">
                                <div class="card card-h-100">
                                    <div class="card-body">
                                        <h4 class="header-title mb-3">Exams Progress</h4>

                                        <div dir="ltr">
                                            <div id="high-performing-product" class="apex-charts"
                                                data-colors="#727cf5,#e3eaef"></div>
                                        </div>
                                    </div>
                                    <!-- end card-body-->
                                </div>
                                <!-- end card-->
                            </div>
                            <!-- end col -->
                        </div>
                        {% endif %}




                        <div class="row">
                            <div class="col-xl-6 col-lg-12 order-lg-2 order-xl-1">
                                <div class="card"></div>
                                <!-- end card-->
                            </div>
                            <!-- end col-->

                            <div class="col-xl-3 col-lg-6 order-lg-1">
                                <div class="card">
                                    <div class="card-body">
                                        <h4 class="header-title">Subject Wise Split</h4>

                                        <div id="average-sales" class="apex-charts mb-4 mt-4"
                                            data-colors="#727cf5,#0acf97,#fa5c7c,#ffbc00"></div>

                                        <div class="chart-widget-list">
                                            <p>
                                                <i class="mdi mdi-square text-primary"></i> MATHS
                                                <span class="float-end">Marks 300.56</span>
                                            </p>
                                            <p>
                                                <i class="mdi mdi-square text-danger"></i> CHEMISTRY
                                                <span class="float-end">Marks 135.18</span>
                                            </p>
                                            <p>
                                                <i class="mdi mdi-square text-success"></i>PHYSICS
                                                <span class="float-end">Marks 48.96</span>
                                            </p>
                                            <p class="mb-0">
                                                <i class="mdi mdi-square text-warning"></i> OTHER
                                                <span class="float-end">Marks 154.02</span>
                                            </p>
                                        </div>
                                    </div>
                                    <!-- end card-body-->
                                </div>
                                <!-- end card-->
                            </div>
                            <!-- end col-->

                            <div class="col-xl-3 col-lg-6 order-lg-1">
                                <div class="card">
                                    <div class="card-body">
                                        <h4 class="header-title mb-2">Improvement Areas</h4>
                                        
                                        <div data-simplebar="" style="max-height: 419px">
                                            {% for improvements_area in improvements_area %}
                                            <div class="timeline-alt pb-0">
                                                <div class="timeline-item">
                                                    <i
                                                        class="mdi mdi-upload bg-info-lighten text-info timeline-icon"></i>
                                                    <div class="timeline-item-info">
                                                        <a href="#" class="text-info fw-bold mb-1 d-block">{{improvements_area.name}}</a>
                                                        <small>{{improvements_area.email}}</small>
                                                        <p class="mb-0 pb-2">
                                                            <small class="text-muted">{{improvements_area.student_id}}</small>
                                                        </p>
                                                    </div>
                                                </div>

                                              
                                            </div>
                                            <!-- end timeline -->
                                            {% endfor %}
                                        </div>
                                        <!-- end slimscroll -->
                                    </div>
                                    <!-- end card-body -->
                                </div>
                                <!-- end card-->
                            </div>
                            <!-- end col -->
                        </div>
                        <!-- end row -->
                    </div>
                    <!-- container -->
                </div>
            </div>
        </div>

        <div class="rightbar-overlay"></div>
    </section>
</div>

<script src="{% static 'assets/js/analytics/vendor.min.js' %}"></script>
<!-- <script src="{% static 'assets/js/analytics/app.min.js' %}"></script> -->

<script src="{% static 'assets/js/analytics/vendor/apexcharts.min.js' %}"></script>
<!-- <script src="{% static 'assets/js/analytics/vendor/jquery-jvectormap-1.2.2.min.js' %}"></script> -->
<!-- <script src="{% static 'assets/js/analytics/vendor/jquery-jvectormap-world-mill-en.js' %}"></script> -->

<!-- <script src="{% static 'assets/js/analytics/pages/demo.dashboard.js' %}"></script> -->

<script>



    !(function (o) {
        "use strict";
        function e() {
            (this.$body = o("body")), (this.charts = []);
        }
        (e.prototype.initCharts = function () {
            window.Apex = {
                chart: { parentHeightOffset: 0, toolbar: { show: !1 } },
                grid: { padding: { left: 0, right: 0 } },
                colors: ["#727cf5", "#0acf97", "#fa5c7c", "#ffbc00"],
            };
            var e = ["#727cf5", "#0acf97", "#fa5c7c", "#ffbc00"],
                t = o("#revenue-chart").data("colors");
            t && (e = t.split(","));
            var r = {
                chart: {
                    height: 364,
                    type: "line",
                    dropShadow: { enabled: !0, opacity: 0.2, blur: 7, left: -7, top: 7 },
                },
                dataLabels: { enabled: !1 },
                stroke: { curve: "smooth", width: 4 },
                series: [
                    { name: "Current Week", data: [10, 20, 15, 25, 20, 30, 20] },
                    { name: "Previous Week", data: [0, 15, 10, 30, 15, 35, 25] },
                ],
                colors: e,
                zoom: { enabled: !1 },
                legend: { show: !1 },
                xaxis: {
                    type: "string",
                    categories: ["Mon", "Tue", "Wed", "Thu", "Fri", "Sat", "Sun"],
                    tooltip: { enabled: !1 },
                    axisBorder: { show: !1 },
                },
                yaxis: {
                    labels: {
                        formatter: function (e) {
                            return e + "k";
                        },
                        offsetX: -15,
                    },
                },
            };
            new ApexCharts(document.querySelector("#revenue-chart"), r).render();
  
            e = ["#727cf5", "#e3eaef"];
            (t = o("#high-performing-product").data("colors")) && (e = t.split(","));
            
            r = {
                
                chart: { height: 257, type: "bar", stacked: !0 },
                plotOptions: { bar: { horizontal: !1, columnWidth: "20%" } },
                dataLabels: { enabled: !1 },
                stroke: { show: !0, width: 2, colors: ["transparent"] },
                series: [
                    {
                        name: "Actual",
                        data: [65, 59, 80, 81, 56, 89, 40, 32, 65, 59, 80, 81],
                    },
                    {
                        name: "Projection",
                        data: [89, 40, 32, 65, 59, 80, 81, 56, 89, 40, 65, 59],
                    },
                ],
                zoom: { enabled: !1 },
                legend: { show: !1 },
                colors: e,
                xaxis: {
                    categories: [
                        "Test1",
                        "Test2",
                        "Test3",
                        "Test4",
                        "Test5",
                        "Test6",
                        "Test7",
                        "Test8",
                        "Test9",
                        "Test10",
                        "Test11",
                        "Test12",
                    ],
                    axisBorder: { show: !1 },
                },
                yaxis: {
                    labels: {
                        formatter: function (e) {
                            return e +" "+ "marks";
                        },
                        offsetX: -15,
                    },
                },
                fill: { opacity: 1 },
                tooltip: {
                    y: {
                        formatter: function (e) {
                            return + e + " " + "marks";
                        },
                    },
                },
            };
            new ApexCharts(
                document.querySelector("#high-performing-product"),
                r
            ).render();
            e = ["#727cf5", "#0acf97", "#fa5c7c", "#ffbc00"];
            (t = o("#average-sales").data("colors")) && (e = t.split(","));
            r = {
                chart: { height: 208, type: "donut" },
                legend: { show: !1 },
                stroke: { colors: ["transparent"] },
                series: [44, 55, 41, 17],
                labels: ["CHEMISTRY", "PHYSICS", "MATHS", "OTHER"],
                colors: e,
                responsive: [
                    {
                        breakpoint: 480,
                        options: { chart: { width: 200 }, legend: { position: "bottom" } },
                    },
                ],
            };
            new ApexCharts(document.querySelector("#average-sales"), r).render();
        }),
            (e.prototype.initMaps = function () {
                0 < o("#world-map-markers").length &&
                    o("#world-map-markers").vectorMap({
                        map: "world_mill_en",
                        normalizeFunction: "polynomial",
                        hoverOpacity: 0.7,
                        hoverColor: !1,
                        regionStyle: { initial: { fill: "#e3eaef" } },
                        markerStyle: {
                            initial: {
                                r: 9,
                                fill: "#727cf5",
                                "fill-opacity": 0.9,
                                stroke: "#fff",
                                "stroke-width": 7,
                                "stroke-opacity": 0.4,
                            },
                            hover: { stroke: "#fff", "fill-opacity": 1, "stroke-width": 1.5 },
                        },
                        backgroundColor: "transparent",
                        markers: [
                            { latLng: [40.71, -74], name: "New York" },
                            { latLng: [37.77, -122.41], name: "San Francisco" },
                            { latLng: [-33.86, 151.2], name: "Sydney" },
                            { latLng: [1.3, 103.8], name: "Singapore" },
                        ],
                        zoomOnScroll: !1,
                    });
            }),
            (e.prototype.init = function () {
                o("#dash-daterange").daterangepicker({ singleDatePicker: !0 }),
                    this.initCharts(),
                    this.initMaps();
            }),
            (o.Dashboard = new e()),
            (o.Dashboard.Constructor = e);
    })(window.jQuery),
        (function (t) {
            "use strict";
            t(document).ready(function (e) {
                t.Dashboard.init();
            });
        })(window.jQuery);

</script>

{% endblock %}

